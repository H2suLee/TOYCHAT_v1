"use strict";(self["webpackChunktest1"]=self["webpackChunktest1"]||[]).push([[186],{4186:function(t,a,l){l.r(a),l.d(a,{default:function(){return g}});var o=l(6768),e=l(4232);const s={class:"contentW"},d=(0,o.Lk)("ul",null,[(0,o.Lk)("li",{class:"tit"},"내 채팅"),(0,o.Lk)("li",{class:"navi"},[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,"홈"),(0,o.Lk)("li",null,"내 채팅")])])],-1),n=(0,o.Lk)("h1",{class:"dpn"},"내 채팅",-1),r={class:"tbl"},i=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",{class:"wd6"},"roomId"),(0,o.Lk)("td",{class:"wd12"},"생성일"),(0,o.Lk)("td",{class:"wd12"},"답변자"),(0,o.Lk)("td",null,"채팅"),(0,o.Lk)("td",{class:"wd12"},"마지막 채팅일"),(0,o.Lk)("td",{class:"wd12"},"상태(대기/진행중/완료)")])],-1),c=["onClick"];function u(t,a,l,u,h,k){const m=(0,o.g2)("Pagination"),I=(0,o.g2)("ChatHistoryModal"),C=(0,o.g2)("ChatModal");return(0,o.uX)(),(0,o.CE)("div",s,[d,(0,o.Lk)("div",null,[n,(0,o.Lk)("table",r,[i,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.chatrooms?.slice(u.pageStartIdx,u.pageStartIdx+u.ITEM_PER_PAGE),(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.chatroomId,onClick:a=>"02"===t.status?u.openChatModal(t.chatroomId):u.openChatHistoryModal(t.chatroomId)},[(0,o.Lk)("td",null,(0,e.v_)(t.chatroomId),1),(0,o.Lk)("td",null,(0,e.v_)(t.credt),1),(0,o.Lk)("td",null,(0,e.v_)(t.adm.nick),1),(0,o.Lk)("td",null,(0,e.v_)(t.lastContent),1),(0,o.Lk)("td",null,(0,e.v_)(t.lastCredt),1),(0,o.Lk)("td",null,(0,e.v_)(t.status),1)],8,c)))),128))])]),u.chatrooms.length>0?((0,o.uX)(),(0,o.Wv)(m,(0,o.v6)({key:0,list:u.chatrooms},{ITEM_PER_PAGE:u.ITEM_PER_PAGE,PAGE_PER_SECTION:u.PAGE_PER_SECTION},{onChangePage:u.onChangePage}),null,16,["list","onChangePage"])):(0,o.Q3)("",!0)]),(0,o.bF)(I,{modalValue:u.isChatHistoryModalVisible,"onUpdate:modalValue":a[0]||(a[0]=t=>u.isChatHistoryModalVisible=t),chatroomId:u.chatroomId,onResetChatroomId:u.resetChatroomId},null,8,["modalValue","chatroomId","onResetChatroomId"]),(0,o.bF)(C,{modelValue:u.isModalVisible,"onUpdate:modelValue":a[1]||(a[1]=t=>u.isModalVisible=t),userId:u.userId,nick:u.nick,role:u.role,chatroomId:u.chatroomId},null,8,["modelValue","userId","nick","role","chatroomId"])])}var h=l(144),k=l(4373),m=l(124),I=l(8436),C=l(3537),E={components:{ChatHistoryModal:m.A,ChatModal:I.A,Pagination:C.A},setup(){const t=(0,h.KR)(localStorage.getItem("adminId")),a=(0,h.KR)(localStorage.getItem("adminNick")),l=(0,h.KR)("ADM"),e=(0,h.KR)([]),s=(0,h.KR)(""),d=(0,h.KR)(!1),n=(0,h.KR)(!1),r=(0,h.KR)(20),i=(0,h.KR)(10);let c=(0,h.KR)(1);const u=(0,o.EW)((()=>(c.value-1)*r.value)),m=t=>{c.value=t},I=async()=>{try{const a=await k.A.post("/api/admin/chat/mylist",{id:t.value});e.value=a.data}catch(a){console.error("Error fetching chat list:",a)}},C=t=>{s.value=t,d.value=!0},E=t=>{console.log("id> ",t),s.value=t,n.value=!0},v=()=>{s.value=""};return(0,o.sV)((()=>{I()})),{userId:t,nick:a,role:l,chatrooms:e,chatroomId:s,isChatHistoryModalVisible:d,isModalVisible:n,openChatHistoryModal:C,openChatModal:E,resetChatroomId:v,ITEM_PER_PAGE:r,PAGE_PER_SECTION:i,pageStartIdx:u,onChangePage:m}}},v=l(1241);const L=(0,v.A)(E,[["render",u]]);var g=L}}]);
//# sourceMappingURL=186.cb86bea5.js.map