{"version":3,"file":"js/186.cb86bea5.js","mappings":"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","sources":["webpack://test1/./src/admin/modules/components/chat/MyChatManage.vue","webpack://test1/./src/admin/modules/components/chat/MyChatManage.vue?fd2b"],"sourcesContent":["<template>\r\n  <div class=\"contentW\">\r\n    <ul>\r\n      <li class=\"tit\">내 채팅</li>\r\n      <li class=\"navi\">\r\n        <ul>\r\n          <li>홈</li>\r\n          <li>내 채팅</li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <div>\r\n      <h1 class=\"dpn\">내 채팅</h1>\r\n      <table class=\"tbl\">\r\n        <!-- 생성일, 답변자, 내용, 마지막 채팅일시 -->\r\n        <thead>\r\n          <tr>\r\n            <td class=\"wd6\">roomId</td>\r\n            <td class=\"wd12\">생성일</td>\r\n            <td class=\"wd12\">답변자</td>\r\n            <td>채팅</td>\r\n            <td class=\"wd12\">마지막 채팅일</td>\r\n            <td class=\"wd12\">상태(대기/진행중/완료)</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"chat in chatrooms?.slice(\r\n              pageStartIdx,\r\n              pageStartIdx + ITEM_PER_PAGE\r\n            )\"\r\n            :key=\"chat.chatroomId\"\r\n            @click=\"\r\n              chat.status === '02'\r\n                ? openChatModal(chat.chatroomId)\r\n                : openChatHistoryModal(chat.chatroomId)\r\n            \"\r\n          >\r\n            <td>{{ chat.chatroomId }}</td>\r\n            <td>{{ chat.credt }}</td>\r\n            <td>{{ chat.adm.nick }}</td>\r\n            <td>{{ chat.lastContent }}</td>\r\n            <td>{{ chat.lastCredt }}</td>\r\n            <td>{{ chat.status }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <Pagination\r\n        v-if=\"chatrooms.length > 0\"\r\n        :list=\"chatrooms\"\r\n        v-bind=\"{ ITEM_PER_PAGE, PAGE_PER_SECTION }\"\r\n        @change-page=\"onChangePage\"\r\n      />\r\n    </div>\r\n    <ChatHistoryModal\r\n      v-model:modalValue=\"isChatHistoryModalVisible\"\r\n      :chatroomId=\"chatroomId\"\r\n      @reset-chatroom-id=\"resetChatroomId\"\r\n    />\r\n    <ChatModal\r\n      v-model:modelValue=\"isModalVisible\"\r\n      :userId=\"userId\"\r\n      :nick=\"nick\"\r\n      :role=\"role\"\r\n      :chatroomId=\"chatroomId\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport axios from \"axios\";\r\nimport ChatHistoryModal from \"../../../../user/modules/components/chat/ChatHistoryModal.vue\";\r\nimport ChatModal from \"../../../../user/modules/components/chat/ChatModal.vue\";\r\nimport Pagination from \"../../../../user/modules/components/common/Pagination.vue\";\r\n\r\nexport default {\r\n  components: { ChatHistoryModal, ChatModal, Pagination },\r\n  setup() {\r\n    const userId = ref(localStorage.getItem(\"adminId\"));\r\n    const nick = ref(localStorage.getItem(\"adminNick\"));\r\n    const role = ref(\"ADM\");\r\n    const chatrooms = ref([]);\r\n    const chatroomId = ref(\"\");\r\n    const isChatHistoryModalVisible = ref(false);\r\n    const isModalVisible = ref(false);\r\n\r\n    /* 페이징 관련 */\r\n    const ITEM_PER_PAGE = ref(20);\r\n    const PAGE_PER_SECTION = ref(10);\r\n    let curPage = ref(1);\r\n\r\n    const pageStartIdx = computed(() => {\r\n      return (curPage.value - 1) * ITEM_PER_PAGE.value;\r\n    });\r\n\r\n    const onChangePage = (data) => {\r\n      curPage.value = data;\r\n    };\r\n\r\n    // 채팅 리스트 가져오기 함수\r\n    const getMyChatroomList = async () => {\r\n      try {\r\n        const response = await axios.post(\"/api/admin/chat/mylist\", {\r\n          id: userId.value,\r\n        });\r\n        chatrooms.value = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching chat list:\", error);\r\n      }\r\n    };\r\n\r\n    // 채팅창 열기\r\n    const openChatHistoryModal = (id) => {\r\n      chatroomId.value = id;\r\n      isChatHistoryModalVisible.value = true;\r\n    };\r\n\r\n    const openChatModal = (id) => {\r\n      console.log(\"id> \", id);\r\n      chatroomId.value = id;\r\n      isModalVisible.value = true;\r\n    };\r\n\r\n    const resetChatroomId = () => {\r\n      chatroomId.value = \"\";\r\n    };\r\n\r\n    // mounted 훅에서 getMyChatroomList 호출\r\n    onMounted(() => {\r\n      getMyChatroomList();\r\n    });\r\n\r\n    return {\r\n      userId,\r\n      nick,\r\n      role,\r\n      chatrooms,\r\n      chatroomId,\r\n      isChatHistoryModalVisible,\r\n      isModalVisible,\r\n      openChatHistoryModal,\r\n      openChatModal,\r\n      resetChatroomId,\r\n      ITEM_PER_PAGE,\r\n      PAGE_PER_SECTION,\r\n      pageStartIdx,\r\n      onChangePage,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./MyChatManage.vue?vue&type=template&id=5ad6a3e6\"\nimport script from \"./MyChatManage.vue?vue&type=script&lang=js\"\nexport * from \"./MyChatManage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","$setup","chatrooms","slice","pageStartIdx","ITEM_PER_PAGE","chat","key","chatroomId","onClick","$event","status","openChatModal","openChatHistoryModal","_toDisplayString","credt","adm","nick","lastContent","lastCredt","_hoisted_6","length","_createBlock","_component_Pagination","_mergeProps","list","PAGE_PER_SECTION","onChangePage","_createCommentVNode","_createVNode","_component_ChatHistoryModal","modalValue","isChatHistoryModalVisible","_cache","onResetChatroomId","resetChatroomId","_component_ChatModal","modelValue","isModalVisible","userId","role","components","ChatHistoryModal","ChatModal","Pagination","setup","ref","localStorage","getItem","curPage","computed","value","data","getMyChatroomList","async","response","axios","post","id","error","console","log","onMounted","__exports__","render"],"sourceRoot":""}